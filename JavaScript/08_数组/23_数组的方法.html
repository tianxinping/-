<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let arr = ['a', 'c', 'd', 'f', 'b']
        arr = [2, 3, 1, 5, 4, 7, 6, 8, 10, 9, 0]
        /* 
        都是高阶函数
            sort() 
                方法用于对数组的元素进行排序(破坏性)
                默认会把数组升续排序（不怎么用默认方法，都是加回调函数）
                    注意：默认会按照Unicode编码进行排序，结果可能不正确，（例如 10会比2小）
                参数
                    可以传递一个回调函数作为参数，通过回调函数来制定排序规则
                        (a, b) => a - b 升续排序
                        (a, b) => b - a 降续排序
                        此方法性能是好于很多排序算法的
                        
            forEach() 
                方法用于遍历数组
                他需要一个回调函数作为参数，这个回调函数会被调用多次
                    数组中有几个元素，回调函数就会调用几次
                    每次调用都会将数组中的数据作为参数传递
                回调函数有三个参数：（下面的filter和map也是）
                    element 当前的元素
                    index 当前元素的索引
                    array 被遍历的数组
            
            filter() --- 非破坏性方法
                将数组中符合条件的元素保存到一个 新数组 中返回
                也需要回调函数作为参数，会为每一个元素调用一次回调函数
            
            map() --- 非破坏性方法
                根据当前数组生成新数组
                需要一个回调函数作为参数
                    回调函数的返回值会成为新数组中的元素
            
            reduce()
                将数组中的所有元素汇总为 一个值
                参数
                    1.回调函数，通过回调函数指定合并的规则
                    2.初始值（可选）
                        arr.reduce((a, b) => a + b , 2) 
                            其中 2 是初始值，先用初始和数组第一个元素整合（按需）


        */
        // sort()
        console.log('用sort之前的原数组', arr);
        arr.sort() // 默认写法,默认写法可能会出错，一般都是加上回调函数
        arr.sort((a, b) => a - b) // 升续排序
        arr.sort((a, b) => b - a) // 降续排序
        console.log('sort的降序排列', arr); // 

        // forEach()
        // arr = ['孙悟空', '猪八戒', '沙僧', '唐僧', '白骨精']
        // arr.forEach((element, index, array) => {
        //     console.log(element, index, array);
        // })
        // 获取数组中所有元素
        arr.forEach(element => console.log('forEach遍历所有元素', element))

        // filter()
        // 获取数组中所有偶数
        arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        let result = arr.filter(element => element % 2 === 0) // 返回true/false
        console.log('filter获取数组中所有偶数', result) // [2, 4, 6, 8, 10]

        // map()
        arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        result = arr.map(element => 'hello')
        console.log('return hello', result) // ['hello', 'hello', 'hello', 'hello', 'hello', 'hello', 'hello', 'hello', 'hello', 'hello'];
        result = arr.map(element => element * 2) // 关键点在于根据原数组返回特定新数组
        console.log('map获取数组中所有元素乘以2', result) // [2, 4, 6, 8, 10];
        // 使用场景：为数组的元素添加li标签
        arr = ['孙悟空', '猪八戒', '沙僧']
        result = arr.map(element => '<li>' + element + '</li>')
        console.log(result);

        // reduce()
        arr = [1, 2, 3, 4, 5, 6, 7, 8]
        // result = arr.reduce((a, b) => a + b) // 展开如下
        result = arr.reduce((a, b) => {
            /* 
                1, 2
                3, 3
                6, 4
                10,5
                ...
                28.8
            */
            // console.log(a, b);
            return a + b // *
        })
        console.log(result); // 整合数组为36

    </script>
</head>

<body>

</body>

</html>